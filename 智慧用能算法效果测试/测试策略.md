# 智能建议降本效果测试策略





## 一、余电上网场景实证测试

**以新能源T为样本，在测试环境测试，测前先确认数据库电站表connect_type值已置为2**。

```python
## 运行loop_simulate_avg.py，入参如下：
psId = ["1761299"]
callTime = "2025-04-01 08:00:00"
start_date = datetime.strptime("2025-04-01", "%Y-%m-%d")
end_date = datetime.strptime("2025-04-30", "%Y-%m-%d")
# 记得按测试项修改生成的文件名称，图表x轴标签可改可不改
```



## 二、无馈网场景实证测试

**以北京实证别墅为样本，在生产环境测试。**

```python
## 运行loop_simulate_avg.py，入参如下：
psId = ["1966080"]
callTime = "2025-04-01 08:00:00"
start_date = datetime.strptime("2025-04-01", "%Y-%m-%d")
end_date = datetime.strptime("2025-04-30", "%Y-%m-%d")
# 记得按测试项修改生成的文件名称，图表x轴标签可改可不改
```



## 三、电价模式差异测试

**以测试环境新能源T “2025-04-01 --- 2025-04-18“ 18天的用电数据为测试样本，分别按广东固定电价和广东分时电价计算，对比差异。**

电价数据可在web端修改，将安徽省固定电价、分时电价数据替换为广东固定电价、分时电价，示例如下：

1. 先修改电价数据

   ![设置电价数据](img/设置电价数据.png)

2. 再修改电价模式

   ![设置电价模式](img/设置电价模式.png)

```python
## 运行loop_simulate_avg.py，入参如下：
psId = ["1761299"]
callTime = "2025-04-01 08:00:00"
start_date = datetime.strptime("2025-04-01", "%Y-%m-%d")
end_date = datetime.strptime("2025-04-18", "%Y-%m-%d")
# 记得按测试项修改生成的文件名称，图表x轴标签可改可不改
```



## 四、模拟数据测试-第一批（不改系数）

### 1. 全天用电-空调季（26户16kw）

```python
## 运行loop_simulate_avg.py，psId列表包含如下电站，其他入参如下：
callTime = "2024-07-01 08:00:00"
start_date = datetime.strptime("2024-07-01", "%Y-%m-%d")
end_date = datetime.strptime("2024-09-30", "%Y-%m-%d")
# 记得按测试项修改生成的文件名称，图表x轴标签可改可不改
```

![全天用电-空调季-16kw](img/全天用电-空调季-16kw.png)

**注：先算出每个电站的季度日均结果数据，再汇总算出这一特征类的季度日均结果数据**



### 2. 全天用电-非空调季（12户10kw）

```python
## 运行loop_simulate_avg.py，psId列表包含如下电站，其他入参如下：
callTime = "2024-10-01 08:00:00"
start_date = datetime.strptime("2024-10-01", "%Y-%m-%d")
end_date = datetime.strptime("2024-12-31", "%Y-%m-%d")
# 记得按测试项修改生成的文件名称，图表x轴标签可改可不改
```

![全天用电-非空调季-10kw](img/全天用电-非空调季-10kw.png)

**注：先算出每个电站的季度日均结果数据，再汇总算出这一特征类的季度日均结果数据**



### 3. 全天用电-非空调季（12户22kw）

```py
## 运行loop_simulate_avg.py，psId列表包含如下电站，其他入参如下：
callTime = "2024-10-01 08:00:00"
start_date = datetime.strptime("2024-10-01", "%Y-%m-%d")
end_date = datetime.strptime("2024-12-31", "%Y-%m-%d")
# 记得按测试项修改生成的文件名称，图表x轴标签可改可不改
```

![全天用电-非空调季-22kw](img/全天用电-非空调季-22kw.png)

**注：先算出每个电站的季度日均结果数据，再汇总算出这一特征类的季度日均结果数据**



### 4. 晚高峰用电-空调季（24户16kw）

```python
## 运行loop_simulate_avg.py，psId列表包含如下电站，其他入参如下：
callTime = "2024-07-01 08:00:00"
start_date = datetime.strptime("2024-07-01", "%Y-%m-%d")
end_date = datetime.strptime("2024-09-30", "%Y-%m-%d")
# 记得按测试项修改生成的文件名称，图表x轴标签可改可不改
```

![晚高峰用电-空调季-16kw](img/晚高峰用电-空调季-16kw.png)

**注：先算出每个电站的季度日均结果数据，再汇总算出这一特征类的季度日均结果数据**



### 5. 晚高峰用电-非空调季（13户22kw）

```python
## 运行loop_simulate_avg.py，psId列表包含如下电站，其他入参如下：
callTime = "2024-10-01 08:00:00"
start_date = datetime.strptime("2024-10-01", "%Y-%m-%d")
end_date = datetime.strptime("2024-12-31", "%Y-%m-%d")
# 记得按测试项修改生成的文件名称，图表x轴标签可改可不改
```

![晚高峰用电-非空调季-22kw](img/晚高峰用电-非空调季-22kw.png)

**注：先算出每个电站的季度日均结果数据，再汇总算出这一特征类的季度日均结果数据**



### 6. 晚高峰用电-非空调季（13户10kw）

```python
## 运行loop_simulate_avg.py，psId列表包含如下电站，其他入参如下：
callTime = "2024-10-01 08:00:00"
start_date = datetime.strptime("2024-10-01", "%Y-%m-%d")
end_date = datetime.strptime("2024-12-31", "%Y-%m-%d")
# 记得按测试项修改生成的文件名称，图表x轴标签可改可不改
```

![晚高峰用电-非空调季-10kw](img/晚高峰用电-非空调季-10kw.png)

**注：先算出每个电站的季度日均结果数据，再汇总算出这一特征类的季度日均结果数据**



---



## 五、模拟数据测试-第二批（系数修改：10改16,16改22,22改10）

### 1. 全天用电-空调季（26户16kw）

```python
## 运行loop_simulate_avg.py，psId列表包含如下电站，其他入参如下：
callTime = "2024-07-01 08:00:00"
start_date = datetime.strptime("2024-07-01", "%Y-%m-%d")
end_date = datetime.strptime("2024-09-30", "%Y-%m-%d")
# 记得按测试项修改生成的文件名称，图表x轴标签可改可不改
```

![全天用电-空调季-16kw](img/全天用电-空调季-16kw.png)

**注：先算出每个电站的季度日均结果数据，再汇总算出这一特征类的季度日均结果数据**



### 2. 全天用电-非空调季（12户10kw）

```python
## 运行loop_simulate_avg.py，psId列表包含如下电站，其他入参如下：
callTime = "2024-10-01 08:00:00"
start_date = datetime.strptime("2024-10-01", "%Y-%m-%d")
end_date = datetime.strptime("2024-12-31", "%Y-%m-%d")
# 记得按测试项修改生成的文件名称，图表x轴标签可改可不改
```

![全天用电-非空调季-10kw](img/全天用电-非空调季-10kw.png)

**注：先算出每个电站的季度日均结果数据，再汇总算出这一特征类的季度日均结果数据**



### 3. 全天用电-非空调季（12户22kw）

```py
## 运行loop_simulate_avg.py，psId列表包含如下电站，其他入参如下：
callTime = "2024-10-01 08:00:00"
start_date = datetime.strptime("2024-10-01", "%Y-%m-%d")
end_date = datetime.strptime("2024-12-31", "%Y-%m-%d")
# 记得按测试项修改生成的文件名称，图表x轴标签可改可不改
```

![全天用电-非空调季-22kw](img/全天用电-非空调季-22kw.png)

**注：先算出每个电站的季度日均结果数据，再汇总算出这一特征类的季度日均结果数据**



### 4. 晚高峰用电-空调季（24户16kw）

```python
## 运行loop_simulate_avg.py，psId列表包含如下电站，其他入参如下：
callTime = "2024-07-01 08:00:00"
start_date = datetime.strptime("2024-07-01", "%Y-%m-%d")
end_date = datetime.strptime("2024-09-30", "%Y-%m-%d")
# 记得按测试项修改生成的文件名称，图表x轴标签可改可不改
```

![晚高峰用电-空调季-16kw](img/晚高峰用电-空调季-16kw.png)

**注：先算出每个电站的季度日均结果数据，再汇总算出这一特征类的季度日均结果数据**



### 5. 晚高峰用电-非空调季（13户22kw）

```python
## 运行loop_simulate_avg.py，psId列表包含如下电站，其他入参如下：
callTime = "2024-10-01 08:00:00"
start_date = datetime.strptime("2024-10-01", "%Y-%m-%d")
end_date = datetime.strptime("2024-12-31", "%Y-%m-%d")
# 记得按测试项修改生成的文件名称，图表x轴标签可改可不改
```

![晚高峰用电-非空调季-22kw](img/晚高峰用电-非空调季-22kw.png)

**注：先算出每个电站的季度日均结果数据，再汇总算出这一特征类的季度日均结果数据**



### 6. 晚高峰用电-非空调季（13户10kw）

```python
## 运行loop_simulate_avg.py，psId列表包含如下电站，其他入参如下：
callTime = "2024-10-01 08:00:00"
start_date = datetime.strptime("2024-10-01", "%Y-%m-%d")
end_date = datetime.strptime("2024-12-31", "%Y-%m-%d")
# 记得按测试项修改生成的文件名称，图表x轴标签可改可不改
```

![晚高峰用电-非空调季-10kw](img/晚高峰用电-非空调季-10kw.png)

**注：先算出每个电站的季度日均结果数据，再汇总算出这一特征类的季度日均结果数据**



---



## 六、模拟数据测试-第三批（系数修改：10改22,16改10,22改16）

### 1. 全天用电-空调季（26户16kw）

```python
## 运行loop_simulate_avg.py，psId列表包含如下电站，其他入参如下：
callTime = "2024-07-01 08:00:00"
start_date = datetime.strptime("2024-07-01", "%Y-%m-%d")
end_date = datetime.strptime("2024-09-30", "%Y-%m-%d")
# 记得按测试项修改生成的文件名称，图表x轴标签可改可不改
```

![全天用电-空调季-16kw](img/全天用电-空调季-16kw.png)

**注：先算出每个电站的季度日均结果数据，再汇总算出这一特征类的季度日均结果数据**



### 2. 全天用电-非空调季（12户10kw）

```python
## 运行loop_simulate_avg.py，psId列表包含如下电站，其他入参如下：
callTime = "2024-10-01 08:00:00"
start_date = datetime.strptime("2024-10-01", "%Y-%m-%d")
end_date = datetime.strptime("2024-12-31", "%Y-%m-%d")
# 记得按测试项修改生成的文件名称，图表x轴标签可改可不改
```

![全天用电-非空调季-10kw](img/全天用电-非空调季-10kw.png)

**注：先算出每个电站的季度日均结果数据，再汇总算出这一特征类的季度日均结果数据**



### 3. 全天用电-非空调季（12户22kw）

```py
## 运行loop_simulate_avg.py，psId列表包含如下电站，其他入参如下：
callTime = "2024-10-01 08:00:00"
start_date = datetime.strptime("2024-10-01", "%Y-%m-%d")
end_date = datetime.strptime("2024-12-31", "%Y-%m-%d")
# 记得按测试项修改生成的文件名称，图表x轴标签可改可不改
```

![全天用电-非空调季-22kw](img/全天用电-非空调季-22kw.png)

**注：先算出每个电站的季度日均结果数据，再汇总算出这一特征类的季度日均结果数据**



### 4. 晚高峰用电-空调季（24户16kw）

```python
## 运行loop_simulate_avg.py，psId列表包含如下电站，其他入参如下：
callTime = "2024-07-01 08:00:00"
start_date = datetime.strptime("2024-07-01", "%Y-%m-%d")
end_date = datetime.strptime("2024-09-30", "%Y-%m-%d")
# 记得按测试项修改生成的文件名称，图表x轴标签可改可不改
```

![晚高峰用电-空调季-16kw](img/晚高峰用电-空调季-16kw.png)

**注：先算出每个电站的季度日均结果数据，再汇总算出这一特征类的季度日均结果数据**



### 5. 晚高峰用电-非空调季（13户22kw）

```python
## 运行loop_simulate_avg.py，psId列表包含如下电站，其他入参如下：
callTime = "2024-10-01 08:00:00"
start_date = datetime.strptime("2024-10-01", "%Y-%m-%d")
end_date = datetime.strptime("2024-12-31", "%Y-%m-%d")
# 记得按测试项修改生成的文件名称，图表x轴标签可改可不改
```

![晚高峰用电-非空调季-22kw](img/晚高峰用电-非空调季-22kw.png)

**注：先算出每个电站的季度日均结果数据，再汇总算出这一特征类的季度日均结果数据**



### 6. 晚高峰用电-非空调季（13户10kw）

```python
## 运行loop_simulate_avg.py，psId列表包含如下电站，其他入参如下：
callTime = "2024-10-01 08:00:00"
start_date = datetime.strptime("2024-10-01", "%Y-%m-%d")
end_date = datetime.strptime("2024-12-31", "%Y-%m-%d")
# 记得按测试项修改生成的文件名称，图表x轴标签可改可不改
```

![晚高峰用电-非空调季-10kw](img/晚高峰用电-非空调季-10kw.png)

**注：先算出每个电站的季度日均结果数据，再汇总算出这一特征类的季度日均结果数据**